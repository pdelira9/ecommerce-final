<div
  class="relative w-full max-w-6xl mx-auto bg-slate-950 border border-slate-800 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 mb-8 overflow-hidden"
>
  <div class="relative h-64 md:h-80 lg:h-96 overflow-hidden">
    @for (image of images; track $index) {
      <div
        class="absolute inset-0 transition-opacity duration-500 ease-in-out"
        [class.opacity-100]="$index === currentIndex"
        [class.opacity-0]="$index !== currentIndex"
      >
        @if (image.loading) {
          <div
            class="w-full h-full bg-slate-900 flex items-center justify-center"
          >
            <div
              class="animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"
            ></div>
          </div>
        } @else if (image.loaded) {
          <img
            [src]="image.src"
            [alt]="image.alt"
            class="w-full h-full object-cover"
          />
        } @else {
          <div
            class="w-full h-full bg-slate-900 flex items-center justify-center"
          ></div>
        }
      </div>
    }
  </div>

  @if (showControls) {
    <!-- Botón anterior -->
    <button
      type="button"
      (click)="prevImage()"
      class="absolute top-1/2 left-4 -translate-y-1/2 rounded-full bg-slate-900/80 text-slate-100 shadow-md hover:bg-slate-800 hover:shadow-lg transition-all duration-200 p-2"
    >
      <svg
        class="w-5 h-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15 19l-7-7 7-7"
        ></path>
      </svg>
    </button>

    <!-- Botón siguiente -->
    <button
      type="button"
      (click)="nextImage()"
      class="absolute top-1/2 right-4 -translate-y-1/2 rounded-full bg-slate-900/80 text-slate-100 shadow-md hover:bg-slate-800 hover:shadow-lg transition-all duration-200 p-2"
    >
      <svg
        class="w-5 h-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 5l7 7-7 7"
        ></path>
      </svg>
    </button>
  }

  @if (showIndicators) {
    <div
      class="absolute bottom-4 left-0 right-0 flex justify-center gap-2"
    >
      @for (image of images; track $index) {
        <button
          type="button"
          class="h-1.5 w-6 rounded-full transition-all"
          [class.bg-emerald-500]="$index === currentIndex"
          [class.bg-slate-600]="$index !== currentIndex"
          (click)="currentIndex = $index; loadImage($index)"
        ></button>
      }
    </div>
  }
</div>
